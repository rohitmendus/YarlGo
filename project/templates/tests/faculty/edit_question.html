{% load widget_tweaks %}
<form id="edit-question-form" method="post" action="{% url 'edit_question' question.id %}">
	{% csrf_token %}
	<div class="modal-header">
		<h5 class="modal-title" id="editModalLabel">Edit Topic</h5>
		<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
	</div>
	<div class="modal-body">
		<div class="form-floating mb-3">
		  <input type="text" class="form-control" id="editQuestion" name="edit_question" value="{{question}}" required>
		  <label for="editQuestion">Question</label>
		</div>
		<div class="form-floating mb-3">
		  <select class="form-select" id="editTopic" name="edit_topic">
		  	{% for topic in topics %}
		    <option {% if question.topic == topic %}selected{% endif %} value="{{topic}}">{{topic}}</option>
		    {% endfor %}
		  </select>
		  <label for="editTopic">Topic</label>
		</div>
		<p class="mb-3" style="font-size: 1.15em;">Options</p>
		<div class="option-container mb-3 mx-2">
			{% for option in question.options.all %}
			<div class="form-check mb-3">
			  <input class="form-check-input" type="radio" name="edit_answer" id="editAnswer{{forloop.counter}}" {% if forloop.counter == 1 %}required{% endif %} value="{{forloop.counter}}" 
			  {% if option == question.answer %}checked{% endif %}>
			  <label class="form-check-label" for="editAnswer{{forloop.counter}}">
				  <input type="text" class="form-control" id="editOption{{forloop.counter}}" name="edit_option{{forloop.counter}}" value="{{option}}" required>
			  </label>
			</div>
			{% endfor %}
		</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
		<button type="submit" class="btn btn-primary">Save Changes</button>
	</div>
</form>
<script type="text/javascript">
	$(document).ready(function(){
		$('#edit-question-modal').modal('show');
	});
</script>